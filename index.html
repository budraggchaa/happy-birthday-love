<!doctype html>
<html lang="mn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–¢”©—Ä—Å”©–Ω ”©–¥—Ä–∏–π–Ω –º—ç–Ω–¥, —Ö–∞–π—Ä—Ç –º–∏–Ω—å</title>
  <meta name="theme-color" content="#ffb3c7" />
  <meta name="description" content="Interactive birthday website for my love" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Marck+Script&display=swap" rel="stylesheet">
  <style>
    :root{--pink:#FFBED1;--rose:#FF9BB8;--blush:#FFE7ED;--ink:#3D2B2B;--cream:#FFF7F2;--lilac:#E9E2FF;--shadow:0 10px 30px rgba(61,43,43,.12)}
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; padding:0;}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;color:var(--ink);background:#fff;overflow-x:hidden;cursor:none}

    /* deed tald garj ireed baisan tsagaan zaig zasav */
    canvas#fx,
    canvas#spark {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: block;
      z-index: 0; 
    }

    .screen{min-height:100vh;position:relative;display:flex;align-items:center;justify-content:center;padding:0;margin:0}
    .bg{position:absolute;inset:0;filter:contrast(1.02) saturate(1.02)}
    .bg-grid{position:absolute;inset:0;display:grid;grid-template-columns:2fr 1fr;grid-template-rows:1fr 1fr;gap:0;padding:0;margin:0}
    .bg-grid .cell{background-size:cover;background-position:center}
    .bg-grid .big{grid-row:1/3;grid-column:1/2;border-top-left-radius:0;border-bottom-left-radius:0}
    .bg-grid .t1{grid-row:1/2;grid-column:2/3;border-top-right-radius:0}
    .bg-grid .t2{grid-row:2/3;grid-column:2/3;border-bottom-right-radius:0}
    .bg::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.25))}
    .card{position:relative;z-index:2;backdrop-filter:blur(6px);background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.35);border-radius:28px;box-shadow:var(--shadow);padding:28px;max-width:980px;width:100%}
    h1.title{font-family:'Marck Script',cursive;font-size:clamp(40px,8vw,92px);line-height:1;color:#fff;margin:0 0 12px;text-align:center;text-shadow:0 4px 30px rgba(0,0,0,.35)}
    .subtitle{color:#fff;text-align:center;margin:0 0 24px;opacity:1;font-weight:600;text-shadow:0 2px 8px rgba(0,0,0,.4)}
    .btn{display:inline-flex;align-items:center;gap:10px;background:linear-gradient(180deg,var(--pink),var(--rose));color:#fff;border:none;border-radius:999px;padding:14px 22px;font-weight:700;cursor:pointer;box-shadow:var(--shadow);text-decoration:none}
    .btn:hover{transform:translateY(-1px)}
    .pill-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:16px}
    .pill{border-radius:999px;background:rgba(255,255,255,.85);padding:14px 18px;display:flex;justify-content:space-between;align-items:center;border:1px solid #fff;backdrop-filter:blur(4px);cursor:pointer;box-shadow:var(--shadow)}
    .pill span{font-weight:700}
    .pill small{opacity:.7}
    .hdr{display:flex;align-items:center;gap:12px;margin:4px 0 14px}
    .hdr h2{margin:0;font-size:28px}
    .chip{background:var(--blush);border:1px solid #fff;padding:6px 12px;border-radius:999px;font-weight:700}
    .poem{white-space:pre-line;font-size:18px;line-height:1.75}
    .nav{display:flex;gap:10px;flex-wrap:wrap}
    .ghost{background:transparent;border:1.5px solid rgba(255,255,255,.1)}
    .footer{margin-top:18px;opacity:.7;font-size:14px}
    .heart{width:22px;height:22px;display:inline-block;background:radial-gradient(circle at 30% 30%, #fff, #ffd4e1 40%, #ff9bb8);clip-path:path('M12 21s-7.5-4.35-10-9.5S3.5 1 7 5c1.65 1.8 2.4 3 5 0 3.5-4 10-1 5 6.5S12 21 12 21Z')}
    .hidden{display:none}
    .center{text-align:center}
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;padding:24px;z-index:50}
    .modal.open{display:flex}
    .modal .inner{background:#fff;border-radius:24px;max-width:720px;width:100%;padding:22px;box-shadow:var(--shadow)}
    .tip{font-size:13px;opacity:.8}
    .falling-heart{position:fixed;top:-40px;left:0;font-size:24px;pointer-events:none;animation:fall linear forwards}
    @keyframes fall{to{transform:translateY(110vh) rotate(360deg);opacity:.9}}
    .float{position:fixed;left:0;top:0;pointer-events:none;z-index:45}
    .em{position:fixed;will-change:transform,opacity}
    @keyframes rise{to{transform:translateY(-110vh) rotate(360deg);opacity:.95}}
    @keyframes drift{to{transform:translateY(-90vh) translateX(20vw);opacity:.9}}
    @keyframes sunpop{0%{transform:scale(.6);opacity:0}50%{transform:scale(1.05);opacity:1}100%{transform:scale(1)}}
    @keyframes cloudRight{to{transform:translateX(40vw);opacity:.95}}
    @keyframes bloom{0%{transform:scale(0);opacity:0}60%{transform:scale(1.08);opacity:1}100%{transform:scale(1)}}

    /* zurhen cursosr */
    #cursorHeart{position:fixed;left:0;top:0;transform:translate(-50%,-50%);font-size:24px;z-index:60;pointer-events:none;filter:drop-shadow(0 4px 10px rgba(255, 0, 89, 0.813))}
    .spark{position:fixed;will-change:transform,opacity;pointer-events:none;font-size:10px;opacity:.9;z-index:59;animation:sparkOut .9s ease-out forwards}
    @keyframes sparkOut{to{transform:translateY(-20px) scale(1.2);opacity:0}}

    /* duu haadag tovch */
    .mute{position:fixed;right:14px;bottom:14px;z-index:61}
    @keyframes bloom{0%{transform:scale(0);opacity:0}60%{transform:scale(1.08);opacity:1}100%{transform:scale(1)}}

    /* Make the back and audio buttons visible */
    #backBtn, #audioBtn {
      color: #ff4d7a !important;
      border-color: #ff4d7a !important;
      background: rgba(255, 255, 255, 0.85) !important;
      font-weight: 700;
      box-shadow: 0 4px 10px rgba(0,0,0,.1);
    }

    #backBtn:hover, #audioBtn:hover {
      background: #ff4d7a !important;
      color: #fff !important;
      transform: scale(1.03);
    }
  </style>
</head>
<body>
  <canvas id="fx"></canvas>
  <canvas id="spark"></canvas>
  <section class="screen" id="home">
    <div id="bg" class="bg"></div>
    <div class="card center">
      <h1 class="title">–¢”®–†–°”®–ù ”®–î–†–ò–ô–ù –ú–≠–ù–î, –•–ê–ô–†–¢ –ú–ò–ù–¨</h1>
      <p class="subtitle">–≠–Ω—ç—Ö“Ø“Ø –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∏–π–Ω –±—è—Ü—Ö–∞–Ω –±—É–ª–∞–Ω–≥ —Ö–∞–º–≥–∞–∞—Å —Ö–∞–π—Ä—Ç–∞–π —á–∞–º–¥–∞–∞ –∑–æ—Ä–∏—É–ª–∞–≤</p>
      <a href="#when" class="btn" id="openHub"> <span class="heart"></span> –ë—ç–ª–≥—ç—ç –Ω—ç—ç—Ö</a>
      <div style="height:10px"></div>
      <div class="tip">–î–æ–æ—Ä—Ö –∑“Ø—Ä—Ö–∏–π–≥ —É–¥–∞–∞–Ω –¥–∞—Ä–≤–∞–ª –∑“Ø—Ä—Ö—ç–Ω –±–æ—Ä–æ–æ –æ—Ä–Ω–æ ‚ú®</div>
      <div style="height:12px"></div>
      <button class="btn ghost" id="pulseHeart" aria-label="heart">‚ù§</button>
    </div>
  </section>

  <section class="screen" id="when" style="background:linear-gradient(180deg, var(--blush), #fff)">
    <div class="card">
      <div class="hdr">
        <span class="chip">–•–≠–†–í–≠–≠ –ß–ò</span>
        <h2>–ú–∏–Ω–∏–π —Ö–∞–π—Ä —é—É –º—ç–¥—ç—Ä—á –±–∞–π–Ω–∞</h2>
      </div>
      <div class="pill-grid" id="hub"></div>
      <div class="footer">Made with love. <span class="heart"></span></div>
    </div>
  </section>
  <div class="modal" id="poemModal" role="dialog" aria-modal="true" aria-labelledby="poemTitle">
    <div class="inner">
      <div class="nav" style="justify-content:space-between;align-items:center">
        <button class="btn ghost" id="backBtn">‚Üê –ë—É—Ü–∞—Ö</button>
        <div class="chip" id="moodChip">–•—ç—Ä–≤—ç—ç —á–∏‚Ä¶</div>
      </div>
      <div class="hdr" style="margin-top:8px">
        <div class="heart"></div>
        <h2 id="poemTitle">–ß–∏ –º–∏–Ω—å ‚Ä¶</h2>
      </div>
      <div class="poem" id="poemBody"></div>
      <div style="height:16px"></div>
      <div class="nav">
        <button class="btn" id="actionBtn">–ò–Ω—ç—ç–º—Å—ç–≥–ª—ç—ç—Ä—ç–π</button>
        <button class="btn ghost" id="audioBtn" title="Play/Pause">‚ñ∂ –î—É—É–≥ —Ç–æ–≥–ª—É—É–ª–∞—Ö</button>
      </div>
    </div>
  </div>

  <!-- ariin duunuud-->
  <audio id="bgHome" loop preload="metadata">
    <source src="home-bgm.mp3" type="audio/mpeg" />
  </audio>
  <audio id="bgWhen" loop preload="metadata">
    <source src="when-bgm.mp3" type="audio/mpeg" />
  </audio>


  <audio id="beat" preload="metadata"></audio>

  <!-- szurhen cursoriin elemen -->
  <div id="cursorHeart">‚ù£Ô∏è</div>
  <button class="btn mute" id="muteToggle">üîà</button>

  <script>
  const CONFIG={
    photos:["bday-1.jpg","bday-2.jpg","bday-3.jpg"],
    hubItems:[
      {key:"miss-me",label:"–Ω–∞–º–∞–π–≥ —Å–∞–Ω–∞–≤–∞–ª",action:"–ó“Ø—Ä—Ö–∏–π–≥ –¥–∞—Ä–∂ —Ç—ç–≤—Ä—ç–ª—Ç–∏–π–≥ –º—ç–¥—ç—Ä",poem:`–°–∞–π–Ω —É—É —Ö–∞–π—Ä—Ç –º–∏–Ω—å. –≠–Ω—ç –∑–∞—Ö–∏–¥–ª—ã–≥ —É–Ω—à–∏–∂ –±–∞–π–≥–∞–∞ ”©–≥–ª”©”©, ”©–¥”©—Ä, –æ—Ä–æ–π–Ω –º—ç–Ω–¥–∏–π–≥ —Ö“Ø—Ä–≥—ç–µ.
“Æ“Ø–Ω–∏–π–≥ —É–Ω—à–∏–∂ –±–∞–π–Ω–∞ –≥—ç–¥—ç–≥ –Ω—å ”©–Ω”©”©–¥”©—Ä —á–∏ –º–∏–Ω—å –Ω–∞–º–∞–π–≥ –∏—Ö –ª —Å–∞–Ω–∞—Å–∞–Ω –±–æ–ª–æ–ª—Ç–æ–π.
–ù–∞–º–∞–π–≥ —Å–∞–Ω–∞—Ö –±“Ø—Ä—Ç—ç—ç “Ø“Ø–Ω–∏–π–≥ —Å–∞–Ω–∞–∞—Ä–∞–π: —á–∏ –±–∏–¥ —Ö–æ—ë—Ä —Ö—ç–¥–∏–π —Ö–∞–º—Ç –±–∞–π—Ö–≥“Ø–π –±–∞–π–≥–∞–∞ —á –±–∏–¥ –Ω—ç–≥ —Ç—ç–Ω–≥—ç—Ä–∏–π–≥ ”©–¥”©—Ä –±“Ø—Ä —Ö–∞—Ä–∂,
–∑“Ø—Ä—Ö–Ω–∏–π —Ü–æ—Ö–∏–ª—Ç –±“Ø—Ä—Ç –º–∏–Ω—å —á–∏ –±–∞–π–≥–∞–∞ –≥—ç–¥–≥–∏–π–≥ —Å–∞–Ω–∞–∞—Ä–∞–π.
–ß–∏ –±–∏–¥ —Ö–æ—ë—Ä—ã–Ω –±–∏–µ —Ö—ç–¥–∏–π —Ö–æ–ª –±–∞–π–≥–∞–∞ —á —á–∏ –º–∏–Ω—å –º–∏–Ω–∏–π ”©–≥–ª”©”© –±“Ø—Ä–∏–π–≥ —É–≥—Ç–∞—Ö —à–∞–ª—Ç–≥–∞–∞–Ω –º–∏–Ω—å –±–æ–ª–∂,
—Ü–∞–∞—à —Ö–∏—á—ç—ç—Ö —ç—Ä—á —Ö“Ø—á–∏–π–≥ –Ω–∞–¥–∞–¥ ”©–≥–¥”©–≥ —é–º —à“Ø“Ø.
–ë–∏ —á –≥—ç—Å—ç–Ω —á–∞–º–∞–π–≥–∞–∞ “Ø–Ω—ç—Ö—ç—ç—Ä –∏—Ö —Å–∞–Ω–∞–∂ –±–∞–π–Ω–∞, “Ø“Ø–Ω–∏–π–≥ —É–Ω—à–∏–∂ –±–∞–π—Ö “Ø–µ–¥ —á–∏–Ω—å —á —Å–∞–Ω–∞—Å–∞–∞—Ä –ª –±–∞–π–≥–∞–∞.
–•–∞–π—Ä—Ç–∞–π —à“Ø“Ø, –¢–∞—á–º–∞–∞–Ω–∞–∞ <3.`},
      {key:"are-sad",label:"–≥—É–Ω–∏–≥–ª–∞–≤–∞–ª",action:"3 —Å–µ–∫—É–Ω–¥ –¥–∞—Ä–∂ —Ü—ç—Ü—ç–≥–ª“Ø“Ø–ª",poem:`–•–∞–π—Ä–∞–∞, –∞–º—å–¥—Ä–∞–ª —Ö–∞–∞—è–∞ “Ø–Ω—ç—Ö—ç—ç—Ä –ª –Ω–æ–≤—à–∏–π–Ω –±–∞–π–¥–∞–≥. –Æ—É —á –±–æ–ª–∂ –±“Ø—Ç—ç—Ö–≥“Ø–π –±–∞–π–≥–∞–∞ —é–º —à–∏–≥, –±–∏ –ª –±–æ–ª–æ—Ö–≥“Ø–π –±–∞–π–≥–∞–∞ —é–º —à–∏–≥ ”©—á–Ω”©”©–Ω –∑“Ø–π–ª —Ç–æ—Ö–∏–æ–ª–¥–æ—Ö “Ø–µ –±–∏–π.
–ì—ç—Ö–¥—ç—ç –≥—É–Ω–∏–≥ –≥—É—Ç—Ä–∞–ª –±–æ–ª –∑“Ø–≥—ç—ç—Ä –ª –±–æ—Ä–æ–æ–Ω—ã “Ø“Ø–ª —à–∏–≥.
–ê—è–Ω–≥–∞ —Ü–∞—Ö–∏–ª–≥–∞–∞–Ω—Ç–∞–π —Ö–∞–≤ —Ö–∞—Ä “Ø“Ø–ª–Ω“Ø“Ø–¥ —Ö“Ø—Ä—Ç—ç–ª –Ω–∞—Ä—ã–≥ –≥–∞—Ä—á –∏—Ä—ç—Ö–∏–π–≥ –∑–æ–≥—Å–æ–æ–∂ —á–∞–¥–¥–∞–≥–≥“Ø–π —à“Ø“Ø –¥—ç—ç.
–•—ç—Ä—ç–≤ –Ω–∞—Ä –≥–∞—Ä–∞—Ö–≥“Ø–π –±–æ–ª –±–∏ –Ω–∞—Ä –±–æ–ª–æ–æ–¥ –≥—É–Ω–∏–≥ –≥—É—Ç—Ä–∞–ª—ã–≥ —á–∏–Ω—å –∞—Ä–∏–ª–≥–∞—è,
—á–∞–º–¥ –≥—ç—Å—ç–Ω —Ö–∞–π—Ä–∞–∞—Ä–∞–∞ –∞–∑ –∂–∞—Ä–≥–∞–ª—Ç–∞–π ”©–¥—Ä“Ø“Ø–¥ –∏—Ä–∂ –±–∞–π–≥–∞–∞–≥ ”©–¥”©—Ä –±“Ø—Ä –º—ç–¥—Ä“Ø“Ø–ª–∂ –±–∞–π—è.
–•—ç—Ä—ç–≤ –Ω–∞–¥–∞–¥ —á–∞–¥–∞–ª –Ω—å –±–∞–π–≤–∞–ª –Ω—É–ª–∏–º—Å –±“Ø—Ä–∏–π–Ω –¥—É—Å–ª—ã–≥ –Ω—å —Ü—É–≥–ª—É—É–ª–∂, –æ–¥ –±–æ–ª–≥–æ–Ω —Ö—É–≤–∏—Ä–≥–∞—è.
–¢—ç–≥–∂ —á–∞–¥–≤–∞–ª –≥—É–Ω–∏–≥ –Ω—å —Ö“Ø—Ä—Ç—ç–ª —Ö–∞—Ä–∞–Ω—Ö—É–π–≥ –≥—ç—Ä—ç–ª—Ç“Ø“Ø–ª–Ω—ç —à“Ø“Ø –¥—ç—ç.`},
      {key:"feel-lonely",label:"–≥–∞–Ω—Ü–∞–∞—Ä–¥–≤–∞–ª",action:"”®—Ä”©”©–≥ –≥—ç—Ä—ç–ª—Ç“Ø“Ø–ª",poem:`–ê–º—å–¥—Ä–∞–ª—ã–Ω —É—Ç–≥–∞ —É—á–∏—Ä –º–∏–Ω—å —ç—ç. –ß–∏ –º–∏–Ω—å –≥–∞–Ω—Ü–∞–∞—Ä–∞–∞ –±–∏—à —à“Ø“Ø –¥—ç—ç.
–•—ç—Ä—ç–≤ “Ø–Ω—ç—Ö—ç—ç—Ä –ª –≥–∞–Ω—Ü–∞–∞—Ä–∞–∞ —é–º —à–∏–≥ —Å–∞–Ω–∞–≥–¥–∞–∞–¥, —Ö“Ø–º“Ø“Ø—Å –±–∞–π–≥–∞–∞ —á –±–∞–π—Ö–≥“Ø–π —é–º —à–∏–≥ –º—ç–¥—Ä—ç–≥–¥—ç–∂ –±–∞–π–≤–∞–ª,
–Ω“Ø–¥—ç—ç –∞–Ω–∏–∞–¥ –Ω–∞–º–∞–π–≥ —Ö–∞–∂—É—É–¥ —á–∏–Ω—å –±–∞–π–≥–∞–∞ –º—ç—Ç—ç—ç—Ä —Ç”©—Å”©”©–ª”©”©—Ä—ç–π, —Ö–∞–π—Ä—Ç –º–∏–Ω—å.
–ì–∞—Ä—ã–≥ –Ω—å —á–∞–Ω–≥–∞ –∞—Ç–≥–∞–∞–¥, –º”©—Ä–∏–π–≥ –Ω—å –∑”©”©–ª”©–Ω —Ç–æ–≤—à–æ–æ–¥ –ª‚Ä¶
–ß–∏ –º–∏–Ω—å –≥–∞–Ω—Ü–∞–∞—Ä–∞–∞ –±–∏—à —ç—ç. –Ø–≤—Å–∞–Ω –≥–∞–∑–∞—Ä –±“Ø—Ä—Ç –Ω—å —á–∞–º–∞–π–≥–∞–∞ –≥—ç—Å—ç–Ω —Å—ç—Ç–≥—ç–ª –º–∏–Ω—å —Ö–∞–º—Ç –±–∞–π–≥–∞–∞ –≥—ç–¥–≥–∏–π–≥ —Å–∞–Ω–∞–∞—Ä–∞–π.
–•–∞–π—Ä—Ç–∞–π —à“Ø“Ø.`},
      {key:"are-angry",label:"—É—É—Ä–∞–ª–≤–∞–ª",action:"–ù–∞—Ä –≥–∞—Ä–≥–∞—è",poem:`Babi, —É—É—Ä–ª–∞—Ö –æ–ª–æ–Ω —à–∞–ª—Ç–≥–∞–∞–Ω –±–∞–π–≥–∞–∞ –ª –¥–∞–∞. –ë–∏ —á –±–∞—Å —è–∞–≥–∞–∞–¥ —á–∏ –º–∏–Ω—å –æ–¥–æ–æ —É—É—Ä–ª–∞–∂ –±–∞–π–≥–∞–∞–≥ —Å–∞–π–Ω –º—ç–¥—ç—Ö–≥“Ø–π –ª –±–∞–π–Ω–∞.
–ú–∞–≥–∞–¥–≥“Ø–π –∞–∂–∏–ª –¥—ç—ç—Ä —è–Ω–∑ –±“Ø—Ä–∏–π–Ω –∑“Ø–π–ª –±–æ–ª—Å–æ–Ω –±–∞–π—Ö, —Å–æ–Ω–∏–Ω “Ø–π–ª—á–ª“Ø“Ø–ª—ç–≥—á —á —é–º —É—É, —ç—Å–≤—ç–ª –º–µ–Ω–µ–∂–µ—Ä —á —é–º —É—É,
–±“Ø—Ä –≥—ç—Ä–∏–π–Ω—Ö—ç–Ω —ç—Å–≤—ç–ª –Ω–∞–π–∑—É—É–¥—ã–Ω—Ö –Ω—å —Ö—ç–Ω –Ω—ç–≥–Ω—ç—ç—Å –±–æ–ª—Å–æ–Ω —á –±–∞–π–∂ –º–∞–≥–∞–¥–≥“Ø–π.
–ì—ç—Ö–¥—ç—ç —Ö–∞–π—Ä–∞–∞, –¥–æ—Ç–æ—Ä –Ω—å —é—É —á –±–æ–ª–∂ –±–∞–π—Å–∞–Ω, —è–∞–∂ —á —É—É—Ä –Ω—å –±—É—Ü–∞–ª–∂ –±–∞–π—Å–∞–Ω –Ω–∞–¥—Ç–∞–π —è—Ä—å–∂ –±–æ–ª–Ω–æ —à“Ø“Ø.
–ß–∞–º–∞–π–≥ –±–∏ –±–∞–π–≥–∞–∞ —á–∏–≥—ç—ç—Ä —á–∏–Ω—å –ª —Ö“Ø–ª—ç—ç–Ω –∑”©–≤—à”©”©—Ä–¥”©–≥ –≥—ç–¥–≥–∏–π–≥ —Å–∞–Ω–∞–∞—Ä–∞–π.
–£—É—Ä–ª–∞—Ö –º—ç–¥—Ä—ç–º–∂ –±–∞–π–∂ –ª –±–∞–π–¥–∞–≥: —á–∏ —É—É—Ä–ª–∞–∂ –±–∞–π–Ω–∞ –≥—ç–¥—ç–≥ —á–∏–Ω—å –∞–º—å–¥ –±–∞–π–Ω–∞ –≥—ç—Å—ç–Ω “Ø–≥ —à“Ø“Ø –¥—ç—ç, —Ö–∞–π—Ä—Ç –º–∏–Ω—å.
–ó“Ø–≥—ç—ç—Ä –ª –¥–æ—Ç—Ä–æ–æ “Ø—Ö—á–∏—Ö—Å—ç–Ω —Ö“Ø–Ω –±–∏—à –≥—ç–¥–≥–∏–π–≥ –∏–ª—Ç–≥—ç–∂ –±–∞–π–≥–∞–∞ —Ö—ç—Ä—ç–≥.
–Ø–∞–∂ —á —É—É—Ä–ª–∞—Å–∞–Ω, —é—É–≥ —á “Ø–∑—ç–Ω —è–¥—Å–∞–Ω –±–∞–π—Å–∞–Ω
Babi –Ω —ç–Ω–¥ –±–∞–π–∂ –ª –±–∞–π–≥–∞–∞ —à“Ø“Ø, “Ø—Ä–≥—ç–ª–∂ –Ω—ç—ç–ª—Ç—Ç—ç–π.`},
      {key:"cant-sleep",label:"–Ω–æ–π—Ä –Ω—å —Ö“Ø—Ä—ç—Ö–≥“Ø–π –±–∞–π–≤–∞–ª",action:"–û–¥ —Ç–æ–æ–ª–æ—ë",poem:`–•—ç—Ä—ç–≤ —É–Ω—Ç–∞—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π —á –Ω–æ–π—Ä –Ω—å —Ö“Ø—Ä—ç—Ö–≥“Ø–π –±–∞–π–≤–∞–ª
–Ω–∞–º–∞–π–≥ —Ö–∞–∂—É—É–¥ –Ω—å —Ö—ç–≤—Ç—ç–∂ –±–∞–π–≥–∞–∞ –º—ç—Ç—ç—ç—Ä —Ç”©—Å”©”©–ª”©”©—Ä—ç–π.
–¢—ç–≤—Ä“Ø“Ø–ª—ç—ç–¥, –∑“Ø—Ä—Ö–Ω–∏–π –º–∏–Ω—å —Ü–æ—Ö–∏–ª—Ç—ã–≥ –º—ç–¥—Ä—ç—ç–¥, –º–∏–Ω–∏–π “Ø–Ω—ç—Ä–∏–π–≥ “Ø–Ω—ç—Ä–ª—ç—ç–¥,
—Ö–∞–º—Ç–¥–∞–∞ —Ö–æ–Ω—å —Ç–æ–æ–ª–∂ –±–∞–π–Ω–∞ –≥—ç–∂ –±–æ–¥–æ–æ—Ä–æ–π.
–•–æ—ë—É–ª–∞–∞ —Ö—ç–¥ —á —Ö“Ø—Ä—Ç—ç–ª —Ç–æ–æ–ª–∂ –±–æ–ª–Ω–æ –¥–æ–æ‚Ä¶
–ì—ç—Ö–¥—ç—ç 20 —Ö“Ø—Ä—ç—ç–¥ –ª —É–Ω—Ç–∞—Ö –±–∞–π—Ö –∞–∞.
–°–∞–π—Ö–∞–Ω –∞–º—Ä–∞–∞—Ä–∞–π, –≥“Ø–Ω–∂ –º–∏–Ω—å.`},
      {key:"want-a-smile",label:"–∏–Ω—ç—ç–º—Å—ç–≥–ª—ç—Ö–∏–π–≥ —Ö“Ø—Å–≤—ç–ª",action:"–ò–Ω—ç—ç–º—Å—ç–≥–ª—ç—ç—Ä—ç–π",poem:`‚Äú–ß–∏ —é—É –∏–¥—ç—ç–¥ –±–∞–π–≥–∞–∞–Ω, —Ö—ç–ª—ç—ç—á –∞–º–∞–∞ –∞–Ω–≥–∞–π‚Äù –≥—ç—Ö—ç—ç—Ä —á–∏—Ö—ç–Ω–¥ –Ω—å 
      —Å–æ–Ω—Å–æ–≥–¥–æ–∂ –±–∞–π–Ω–∞ —É—É, —Ö–∞–π—Ä–∞–∞
–•—ç—Ä—ç–≤ –∂–∞–∞—Ö–∞–Ω —á –≥—ç—Å—ç–Ω –∏–Ω—ç—ç–º—Å—ç–≥–ª—ç–ª —Ö—ç—Ä—ç–≥—Ç—ç–π –±–æ–ª –º–∏–Ω–∏–π —á–∞–º–∞–π–≥ –∏–Ω—ç—ç–ª–≥—ç–¥—ç–≥ –±–∞–π—Å–∞–Ω –∂–∏–∂–∏–≥ –∑“Ø–π–ª—Å–∏–π–≥ —Å–∞–Ω–∞–∞—Ä–∞–π.
–ê–º—å–¥—Ä–∞–ª —Ö—ç—Ü“Ø“Ø –±–∞–π—Å–∞–Ω —á –±–∏ —á–∏–Ω–∏–π—Ö—ç—ç “Ø—Ä–≥—ç–ª–∂ –º–∏—à—ç—ç—Ö —à–∞–ª—Ç–≥–∞–∞–Ω –Ω—å –±–∞–π—Ö—ã–≥ —Ö–∏—á—ç—ç–Ω—ç—ç.
–ò–Ω—ç—ç–≥—ç—ç—Ä—ç–π, –ë–∞–±–∏.`},
      {key:"wake-up",label:"–¥”©–Ω–≥”©–∂ —Å—ç—Ä—ç—ç–¥",action:"–ì—ç–≥—ç—ç–Ω ”®–≥–ª”©”©",poem:`”®–≥–ª”©”©–Ω–∏–π –º—ç–Ω–¥, —Ö–∞–π—Ä—Ç –º–∏–Ω—å. –ë–∏ —è–≥ –æ–¥–æ–æ –º–∞–≥–∞–¥–≥“Ø–π —É–Ω—Ç–∞–∂ –±–∞–π–≥–∞–∞ —ç—Å–≤—ç–ª –∞–ª—å —Ö—ç–¥–∏–π–Ω —Å—ç—Ä—á–∏—Ö—Å—ç–Ω, —Ö–æ—Ä–≤–æ–æ–≥–∏–π–Ω —Ö–∞–∞ –Ω—ç–≥—Ç—ç—ç –•—è—Ç–∞–¥ –≥—ç–¥—ç–≥ —É–ª—Å–∞–∞—Å ”©–≥–ª”©”©–Ω–∏–π –º—ç–Ω–¥ —Ö“Ø—Ä–≥—ç–∂ –ª –±–∞–π–≥–∞–∞ –±–∞–π—Ö.
”®–≥–ª”©”© –±“Ø—Ä–∏–π–Ω –º–∏–Ω–∏–π —ç—Ö–Ω–∏–π –±–æ–¥–æ–ª —á–∏ –º–∏–Ω—å –±–∞–π–¥–∞–≥ —à“Ø“Ø.
–°—ç—Ä—ç—Ö —à–∞–ª—Ç–≥–∞–∞–Ω –º–∏–Ω—å –±–æ–ª–∂ ”©–≥–¥”©–≥—Ç –±–∞—è—Ä–ª–∞–ª–∞–∞.`},
      {key:"sick",label:"”©–≤–¥—Å”©–Ω “Ø–µ–¥—ç—ç",action:"–•—É—Ä–¥–∞–Ω –≠–¥–≥—ç—ç—Ä—ç–π",poem:`–•—ç—Ä—ç–≤ –±–∏ —Å—É–ø–µ—Ä —Ö“Ø—á—Ç—ç–π –±–∞–π—Å–∞–Ω –±–æ–ª –±“Ø—Ö ”©–≤–¥”©–ª—Ç–∏–π–≥ —á–∏–Ω—å –∞–≤–∞–∞–¥ —à–∏–¥—á–∏—Ö–º—ç—ç—Ä —Å–∞–Ω–∞–≥–¥–∞—Ö —é–º.
–ß–∞–º–∞–π–≥–∞–∞ –≥—É–Ω–∏–≥—Ç–∞–π, ”©–≤–¥—á–∏—Ö—Å”©–Ω –±–∞–π—Ö—ã–≥ —Ö–∞—Ä–∞—Ö –º–∏–Ω–∏–π —Ö—É–≤—å–¥ —Ö–∞–º–≥–∏–π–Ω —Ö—ç—Ü“Ø“Ø –∑“Ø–π–ª –º–∏–Ω—å —à“Ø“Ø .
–ù–∞–¥–∞–¥ –∏–¥ —à–∏–¥ –±–∞–π—Ö–≥“Ø–π —Ç—É–ª —ç–¥–≥—ç—Ä—Ç—ç–ª –Ω—å —Ö–∞–ª–∞–º–∂, —Ö–∞–π—Ä –ª ”©–≥—á —á–∞–¥–∞—Ö–∞–∞—Ä –±–∞–π–Ω–∞ –¥–∞–∞ Babi.`},
      {key:"need-me",label:"—Ö—ç—Ä—ç–≤ –±–∏ —Ö—ç—Ä—ç–≥ –±–æ–ª–≤–æ–ª",action:"–ù–∞–º–∞–π–≥ –¥—É—É–¥–∞–∞—Ä–∞–π",poem:`–•—ç—Ä—ç–≤ –º–∏–Ω–∏–π —Ö—ç—Ä—ç–≥ –±–æ–ª–≤–æ–ª —é—É —á –±–æ–¥–æ–ª–≥“Ø–π –∑–∞–ª–≥–∞–∞—Ä–∞–π, Babi.
–ß–∞–¥–∞—Ö –±“Ø—Ö–Ω—ç—ç—Ä—ç—ç —Ç—É—Å–ª–∞—Ö—ã–≥ —Ö–∏—á—ç—ç–Ω—ç—à“Ø“Ø.
–ë–æ–ª–æ–º–∂ –±–∞–π–≤–∞–ª –Ω“Ø–¥ –∏—Ä–º—ç—Ö —Ç”©–¥–∏–π–¥ –ª —Ö–∞–∂—É—É–¥ —á–∏–Ω—å –±–∞–π—Ö—ã–≥ —Ö–∏—á—ç—ç–Ω—ç.`}
    ]
  };

  const AUDIO_MAP={
    'miss-me':'miss-me.mp3','are-sad':'are-sad.mp3','feel-lonely':'feel-lonely.mp3','are-angry':'are-angry.mp3','cant-sleep':'cant-sleep.mp3','want-a-smile':'want-a-smile.mp3','wake-up':'wake-up.mp3','sick':'sick.mp3','need-me':'need-me.mp3'};

  const PLAY_LABEL='‚ñ∂ –î—É—É–≥ —Ç–æ–≥–ª—É—É–ª–∞—Ö';
  const PAUSE_LABEL='‚è∏ –î—É—É–≥ —Ç“Ø—Ä –∑–æ–≥—Å–æ–æ—Ö';
  const $=s=>document.querySelector(s);
  const audioBtn=$('#audioBtn');
  const beat=$('#beat');
  const bgHome=$('#bgHome');
  const bgWhen=$('#bgWhen');
  const muteToggle=$('#muteToggle');
  let currentItem=null; let muted=false; let userInteracted=false;

  const bg=document.getElementById('bg');
  function buildBgGrid(){
    bg.innerHTML='';
    const grid=document.createElement('div');
    grid.className='bg-grid';
    const [a,b,c]=CONFIG.photos;
    const cells=[{cls:'cell big',url:a},{cls:'cell t1',url:b},{cls:'cell t2',url:c}];
    cells.forEach(({cls,url})=>{const d=document.createElement('div');d.className=cls;d.style.backgroundImage=`url(${url})`;grid.appendChild(d)});
    bg.appendChild(grid);
  }
  buildBgGrid();

  const hub=document.getElementById('hub');
  CONFIG.hubItems.forEach(item=>{const el=document.createElement('button');el.className='pill';el.innerHTML=`<span>‚Äî <b>–ß–∏ –º–∏–Ω—å ${item.label}</b></span> <small>–Ω—ç—ç—Ö</small>`;el.addEventListener('click',()=>openPoem(item));hub.appendChild(el)});

  function openPoem(item){
    currentItem=item;
    document.getElementById('poemTitle').textContent=`–ß–∏ –º–∏–Ω—å ${item.label}`;
    document.getElementById('poemBody').textContent=item.poem;
    document.getElementById('moodChip').textContent=`–ß–∏ –º–∏–Ω—å ${item.label}`;
    document.getElementById('actionBtn').textContent=item.action;
    const audioFile=AUDIO_MAP[item.key];
    if(audioFile){beat.src=audioFile;audioBtn.style.display='inline-flex';audioBtn.textContent=PLAY_LABEL;}else{audioBtn.style.display='none'}
    document.getElementById('poemModal').classList.add('open');
  }

  document.getElementById('backBtn').addEventListener('click',()=>{beat.pause();beat.currentTime=0;document.getElementById('poemModal').classList.remove('open')});

  audioBtn.addEventListener('click',()=>{if(!currentItem)return;if(beat.paused){beat.play();audioBtn.textContent=PAUSE_LABEL;}else{beat.pause();audioBtn.textContent=PLAY_LABEL;}});

  const actionBtn=document.getElementById('actionBtn');
  function heartRain(n=120){for(let i=0;i<n;i++){const h=document.createElement('div');h.className='falling-heart';h.textContent='‚ù§';const size=18+Math.random()*22;const left=Math.random()*100;const dur=4+Math.random()*5;const delay=Math.random()*1.2;h.style.left=left+'vw';h.style.fontSize=size+'px';h.style.animationDuration=dur+'s';h.style.animationDelay=delay+'s';document.body.appendChild(h);setTimeout(()=>h.remove(),(dur+delay)*1000+500)}}
  function pulseHug(){beat.currentTime=0;beat.play();heartRain(140);const o=document.createElement('div');o.style.position='fixed';o.style.inset='0';o.style.zIndex='46';o.style.pointerEvents='none';o.innerHTML='<div style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:180px;animation:sunpop .9s ease">‚ù§</div>';document.body.appendChild(o);setTimeout(()=>o.remove(),1100)}
  function holdToBloom(btn,ms=1200){return new Promise(res=>{let t;const up=()=>{clearTimeout(t)};const down=()=>{t=setTimeout(()=>{btn.removeEventListener('mouseup',up);btn.removeEventListener('touchend',up);res()},ms)};btn.addEventListener('mousedown',down,{once:true});btn.addEventListener('touchstart',down,{once:true});btn.addEventListener('mouseup',up,{once:true});btn.addEventListener('touchend',up,{once:true})})}
  function bloomFlowers(){for(let i=0;i<42;i++){const e=document.createElement('div');e.className='em';e.textContent=Math.random()<.33?'üå∑':(Math.random()<.5?'üå∏':'üåº');const size=24+Math.random()*28;const left=Math.random()*100;const top=72+Math.random()*20;const dur=4;e.style.left=left+'vw';e.style.top=top+'vh';e.style.fontSize=size+'px';e.style.animation='bloom '+dur+'s ease-out forwards';document.body.appendChild(e);setTimeout(()=>e.remove(),dur*1000+1200)}}
  function starDrift(){for(let i=0;i<60;i++){const e=document.createElement('div');e.className='em';e.textContent=Math.random()<.15?'üåô':'‚≠ê';const size=16+Math.random()*18;const left=Math.random()*100;const dur=4+Math.random()*4;e.style.left=left+'vw';e.style.top='100vh';e.style.fontSize=size+'px';e.style.animation='drift '+dur+'s linear forwards';document.body.appendChild(e);setTimeout(()=>e.remove(),dur*1000+400)}}
  function smileRain(){for(let i=0;i<50;i++){const e=document.createElement('div');e.className='em';e.textContent=Math.random()<.5?'üòä':'üòÇ';const size=18+Math.random()*22;const left=Math.random()*100;const dur=3.5+Math.random()*3;e.style.left=left+'vw';e.style.top='100vh';e.style.fontSize=size+'px';e.style.animation='rise '+dur+'s linear forwards';document.body.appendChild(e);setTimeout(()=>e.remove(),dur*1000+400)}}
  function glowComfort(){for(let i=0;i<40;i++){const e=document.createElement('div');e.className='em';e.textContent=Math.random()<.6?'‚ú®':'üïØÔ∏è';const size=18+Math.random()*20;const left=Math.random()*100;const dur=3+Math.random()*3;e.style.left=left+'vw';e.style.top='100vh';e.style.fontSize=size+'px';e.style.animation='rise '+dur+'s linear forwards';document.body.appendChild(e);setTimeout(()=>e.remove(),dur*1000+400)}}
  function stormToSun(){const layer=document.createElement('div');layer.className='float';layer.style.inset='0';layer.style.zIndex='44';document.body.appendChild(layer);for(let i=0;i<8;i++){const c=document.createElement('div');c.className='em';c.textContent='‚òÅÔ∏è';const size=60+Math.random()*60;c.style.fontSize=size+'px';c.style.left=(-10+Math.random()*10)+'vw';c.style.top=(10+Math.random()*50)+'vh';c.style.opacity='.95';c.style.animation='cloudRight 8s linear forwards';layer.appendChild(c)}const sun=document.createElement('div');sun.className='em';sun.textContent='‚òÄÔ∏è';sun.style.fontSize='120px';sun.style.left='4vw';sun.style.top='6vh';sun.style.animation='sunpop 8s ease';sun.style.zIndex='47';layer.appendChild(sun);setTimeout(()=>layer.remove(),9000)}

  actionBtn.addEventListener('click',()=>{
    if(!currentItem) return;
    const key=currentItem.key;
    if(key==='miss-me') return pulseHug();
    if(key==='are-sad') return holdToBloom(actionBtn,1200).then(bloomFlowers);
    if(key==='are-angry') return stormToSun();
    if(key==='cant-sleep') return starDrift();
    if(key==='want-a-smile') return smileRain();
    if(key==='feel-lonely') return glowComfort();
  });

  const pulseHeart=document.getElementById('pulseHeart');
  let pressTimer;
  function startPress(){pressTimer=setTimeout(()=>{heartRain(140)},900)}
  function cancelPress(){clearTimeout(pressTimer)}
  pulseHeart.addEventListener('mousedown',startPress);
  pulseHeart.addEventListener('touchstart',startPress);
  pulseHeart.addEventListener('mouseup',cancelPress);
  pulseHeart.addEventListener('mouseleave',cancelPress);
  pulseHeart.addEventListener('touchend',cancelPress);

  
  document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener('click',e=>{e.preventDefault();document.querySelector(a.getAttribute('href')).scrollIntoView({behavior:'smooth'})})});
  const poemModal=document.getElementById('poemModal');
  poemModal.addEventListener('click',e=>{if(e.target===poemModal) poemModal.classList.remove('open')});
  addEventListener('keydown',e=>{if(e.key==='Escape') poemModal.classList.remove('open')});

  // zurhen cursor
  const cursorHeart=document.getElementById('cursorHeart');
  let cx=window.innerWidth/2, cy=window.innerHeight/2;
  addEventListener('mousemove',e=>{
    cx=e.clientX; cy=e.clientY; cursorHeart.style.transform=`translate(${cx}px,${cy}px)`;
    const s=document.createElement('div');
    s.className='spark';
    s.textContent=Math.random()<.5?'‚úß':'¬∑';
    s.style.left=cx+ (Math.random()*6-3) + 'px';
    s.style.top=cy+ (Math.random()*6-3) + 'px';
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),900);
  },{passive:true});

  // ard yvah duu
  function setMuted(m){muted=m;[bgHome,bgWhen,beat].forEach(a=>{a.muted=muted});muteToggle.textContent=muted?'üîá':'üîà'}
  function playHome(){if(!muted){bgWhen.pause();bgHome.currentTime=0;bgHome.play().catch(()=>{});} }
  function playWhen(){if(!muted){bgHome.pause();bgWhen.currentTime=0;bgWhen.play().catch(()=>{});} }

  function ensureFirstPlay(){ if(userInteracted) return; userInteracted=true; playHome(); }
  document.addEventListener('pointerdown',ensureFirstPlay,{once:true});
  document.getElementById('openHub').addEventListener('click',()=>{playWhen()});
  muteToggle.addEventListener('click',()=>setMuted(!muted));
  setMuted(false);
  </script>
</body>
</html>
